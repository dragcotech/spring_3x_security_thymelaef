<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <title>Register</title>
</head>
<body>
	<button id="btn-dark" class="switch fa fa-moon"></button>
    <div class="container p-5">
        <div class="row g-6">
            <h1>Create your Account</h1>
            <p>Already have an account? <a th:href="@{/login}">log in</a></p>
        </div>
        <form th:action="@{/register/registration}" method="post" th:object="${user}">
          <div class="input-group mb-3">
          		<span class="input-group-text"><i class="fa fa-user"></i></span>
                <div class="mb-3 form-floating">
                	<input  required type="text" th:field="*{username}" class="form-control" id="username" aria-describedby="basic-addon1" name="username" placeholder="Username">    
                	<label for="username">Username</label>
          		</div>
          </div>
          <div class="input-group mb-3">
          		<span class="input-group-text"><i class="fa fa-lock"></i></span>
                <div class="form-floating">
                    <input required type="password" class="form-control" id="password" placeholder="Password" aria-describedby="basic-addon1" th:field="*{password}" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" title="Must contain at least one number, one uppercase letter, one lowercase letter, and at least 6 or more characters" name="password">
                    <label for="pasword">Password</label>
                </div>
                <button class="btn btn-outline-secondary fa fa-eye" type="button" id="button-addon2"></button>
          </div>
          <p style="font-size: 1rem;" th:errors = "*{username}" class="text-danger"
                 th:if="${#fields.hasErrors('username')}"></p>
          <button type="submit" class="btn btn-primary">Sign Up</button>
        </form>   
    </div>

    <style>
    	body {background: #ddd;}
        body.dark{background: #121212;}
        .container {
        	background: #fff;
        	width: 40%;
            padding: 5%;
            border: 1px solid #111;
            border-radius: 10px;
            margin-top: 10%;
        }
        body.dark .container {
            background: #212121;
            border: 1px solid #aaa;
        }
        .row {
            margin: none;
            margin-bottom: 5%;
        }
        p {
        	font-size: 1.2rem;
            text-align: center;
        }
        body.dark p {
            color: #ccc;
        }
        p a{
        	text-decoration: none;
            color: #111;
            border: none;
            outline: none;
        }
        body.dark p a {
            color: #ccc;
        }
        p a:hover {
            text-decoration: underline;
        }
        h1{text-align: center;}
        body.dark h1 {color:#fff;}
        body.dark label{color:#ccc;}
        #password, #username {background: none; outline: none; border-color: #111;}
        #password:focus, #username:focus{background: none;}
        body.dark #password, body.dark #username{color:#eee; border-color: #aaa;}
        body.dark #password:focus, body.dark #username:focus{color:#eee; background: none;}
        .btn-outline-secondary, .input-group-text {
        	border-color: #111;
            color: #000;
            background: none;
            height: 3.6rem;
        }
        body.dark .btn-outline-secondary, body.dark .input-group-text{
            border-color: #aaa;
            color: #eee;
            background: none;
        }
        body.dark .input-group-text i{
        	color: #fff;
        }
        .btn-outline-secondary:hover{background: #0D6EFD;}
        body.dark .btn-outline-secondary:hover{
            background-color: #000;
            color: #fff;
        }
        .btn-primary {
        	margin-top: 5%;
            margin-left: 45%;
            outline: none;
            padding: 0.75rem;
        }
        body.dark .btn-primary {
            color: #fff;
            background: #4f555a;
            border-color: #4f555a;
        }
        body.dark .btn-primary:hover {
            background-color: #121212;
            border-color: #fff;
        }
        #btn-dark {
        	position: absolute;
        	bottom: 5%;
        	right: 3%;
        	padding: 1%;
        	border-radius: 50%;
        	font-size: 2.5rem;
        	border: 2px solid #000;
        	background: #000;
        	color: #fff;
        	transition: all 300ms;
        	cursor: pointer;
        }
        #btn-dark:hover {background: #ccc; color: #000;}
        body.dark #btn-dark{
        	border: 2px solid #fff;
        	background: #fff;
        	color: #000;
        }
        body.dark #btn-dark:hover{background: #323232; color: #F2C800;}
    </style>

    <script>
    	const btn_dark = document.getElementById('btn-dark');
        const btn = document.getElementById('button-addon2');
        const password = document.getElementById('password');
        btn.addEventListener('click', ()=>{
            if (password.type == 'password') {
                btn.classList.replace('fa-eye', 'fa-eye-slash');
                password.type = 'text';
            } else {
                btn.classList.replace('fa-eye-slash', 'fa-eye');
                password.type = 'password';
            }
      });
      btn_dark.addEventListener('click', ()=>{
    	  document.body.classList.toggle('dark');
    	  btn_dark.classList.toggle('fa-sun');
    	  btn_dark.classList.toggle('fa-moon');
      });
    </script>
</body>
</html>